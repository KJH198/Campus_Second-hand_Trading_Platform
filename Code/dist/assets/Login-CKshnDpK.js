import{_ as f,r as y,o as h,c as _,a as e,n as d,b as v,d as S,t as x,e as w,u as B,f as E}from"./index-BsLZcYGd.js";const c={name:"Login",setup(){let a=y(1),t="去注册";const u=B();function s(){this.active=this.active===1?2:1,this.cardbutton=this.cardbutton==="去注册"?"去登录":"去注册"}const r=async()=>{document.querySelector('input[name="phoneNumber"]').value,document.querySelector('input[name="password"]').value,alert("登录成功"),await u.push("/home")},l=async()=>{const n=document.querySelector('input[name="username"]').value,o=document.querySelector('input[name="loginpassword"]').value,i=document.querySelector('input[name="phone"]').value;console.log(o);try{const g=(await(await fetch("/",{method:"POST",headers:{"Content-Type":"application/json",type:"register"},body:JSON.stringify({user_name:n,password:o,phone_number:i})})).json()).success;alert(g?"注册成功":"注册失败")}catch(p){console.error("Error during log:",p),alert("发生了意想不到的错误")}};return h(()=>{const n=document.getElementById("signinbutton"),o=document.getElementById("signupbutton");o&&o.addEventListener("click",i=>{i.preventDefault(),l()}),n&&n.addEventListener("click",i=>{i.preventDefault(),r()})}),{active:a,cardbutton:t,handlelog:r,handleregister:l,togglecard:s}}},m=()=>{E(a=>({"7b15a6b4":300}))},b=c.setup;c.setup=b?(a,t)=>(m(),b(a,t)):m;const N={class:"login-container"},k={class:"slider"},q={class:"head"},C={class:"btn"};function V(a,t,u,s,r,l){return w(),_("div",N,[e("div",k,[e("div",{class:d(s.active===1?"form":"form hidden")},t[1]||(t[1]=[v('<div class="title">欢迎<b>回来</b></div><div class="subtitle">登录你的账户</div><div class="inputf"><input type="text" placeholder="电话号码" name="phoneNumber"><span class="label">电话号码</span></div><div class="inputf"><input type="text" placeholder="密码" name="password"><span class="label">密码</span></div><button type="submit" id="signinbutton">登录</button>',5)]),2),e("div",{class:d(s.active===2?"form":"form hidden")},t[2]||(t[2]=[v('<div class="title">欢迎<b>使用</b></div><div class="subtitle">创建你的账户</div><div class="inputf"><input type="text" placeholder="用户名" name="username"><span class="label">用户名</span></div><div class="inputf"><input type="text" placeholder="密码" name="loginpassword"><span class="label">密码</span></div><div class="inputf"><input type="text" placeholder="电话" name="phone"><span class="label">电话</span></div><button type="submit" id="signupbutton">注册</button>',6)]),2),e("div",{class:d(s.active===1?"card":"card active")},[e("div",q,[t[4]||(t[4]=e("div",{class:"name"},[e("span")],-1)),t[5]||(t[5]=e("div",{class:"desc"},"高效便捷的校园二手交易平台，让闲置物品焕发新生，轻松买卖，快乐分享！",-1)),e("div",C,[t[3]||(t[3]=S(" 新用户 ? ")),e("button",{onClick:t[0]||(t[0]=(...n)=>s.togglecard&&s.togglecard(...n))},x(s.cardbutton),1)])])],2)])])}const D=f(c,[["render",V]]);export{D as default};
