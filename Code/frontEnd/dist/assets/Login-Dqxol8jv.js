import{r as u,o as p,c as v,a as t,n as i,b as r,d as m,e as f,u as g}from"./index-CMBkMKto.js";const b={class:"login-container"},y={class:"slider"},h={class:"head"},w={class:"btn"},k={__name:"Login",setup(S){g(n=>({"741f52a3":300}));const o=u(1),d=async()=>{const n=document.querySelector('input[name="username"]').value,e=document.querySelector('input[name="password"]').value;try{const s=await fetch("http://127.0.0.1:5000/Login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:e})}),a=await s.json();s.ok?(console.log("log successful:",a),alert("登录成功")):(console.error("log failed:",a.message),alert("登录失败"))}catch(s){console.error("Error during log:",s)}},c=async()=>{const n=document.querySelector('input[name="username"]').value,e=document.querySelector('input[name="password"]').value,s=document.querySelector('input[name="phone"]').value;try{const a=await fetch("http://127.0.0.1:5000/Login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:e,phone:s})}),l=await a.json();a.ok?console.log("sign up successful:",l):(console.error("sign up failed:",l.message),alert("注册失败"))}catch(a){console.error("Error during log:",a)}};return p(()=>{const n=document.getElementById("signinbutton"),e=document.getElementById("signupbutton");e&&e.addEventListener("click",s=>{s.preventDefault(),c()}),n&&n.addEventListener("click",s=>{s.preventDefault(),d()})}),(n,e)=>(f(),v("div",b,[t("div",y,[t("div",{class:i(o.value===1?"form":"form hidden")},e[1]||(e[1]=[r('<div class="title">欢迎<b>回来</b></div><div class="subtitle">登录你的账户</div><div class="inputf"><input type="text" placeholder="用户名" name="username"><span class="label">用户名</span></div><div class="inputf"><input type="text" placeholder="密码" name="password"><span class="label">密码</span></div><button type="submit" id="signinbutton">登录</button>',5)]),2),t("div",{class:i(o.value===2?"form":"form hidden")},e[2]||(e[2]=[r('<div class="title">欢迎<b>使用</b></div><div class="subtitle">创建你的账户</div><div class="inputf"><input type="text" placeholder="用户名" name="username"><span class="label">用户名</span></div><div class="inputf"><input type="text" placeholder="密码" name="password"><span class="label">密码</span></div><div class="inputf"><input type="text" placeholder="电话" name="phone"><span class="label">电话</span></div><button type="submit" id="signupbutton">注册</button>',6)]),2),t("div",{class:i(o.value===1?"card":"card active")},[t("div",h,[e[4]||(e[4]=t("div",{class:"name"},[t("span")],-1)),e[5]||(e[5]=t("div",{class:"desc"},"高效便捷的校园二手交易平台，让闲置物品焕发新生，轻松买卖，快乐分享！",-1)),t("div",w,[e[3]||(e[3]=m(" 新用户 ? ")),t("button",{onClick:e[0]||(e[0]=s=>o.value=o.value===1?2:1)},"去注册")])])],2)])]))}};export{k as default};
